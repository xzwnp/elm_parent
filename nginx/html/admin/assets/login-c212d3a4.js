import{_ as w,d as _,h as f,u as h,i as C,j as v,k as b,s as T,r as d,o as V,c as k,a as u,t as B,b as l,w as r,n as D,e as A,l as i,m as F,p as E,f as S}from"./index-45934075.js";const j=_({setup(){const e=f(),s=h(),m=C(),o=v({name:"admin",password:"123456"}),n=b("password"),c=()=>{n.value===""?n.value="password":n.value=""},p=()=>new Promise((t,a)=>{if(o.name===""){i.warning({message:"用户名不能为空",type:"warning"});return}if(o.password===""){i.warning({message:"密码不能为空",type:"warning"});return}t(!0)});return{systemTitle:T,form:o,passwordType:n,passwordTypeChange:c,submit:()=>{p().then(()=>{let t={name:o.name,password:o.password};e.dispatch("user/login",t).then(()=>{i.success({message:"登录成功",type:"success",showClose:!0,duration:1e3}),F(),s.push(m.query.redirect||"/")})})}}}}),y=e=>(E("data-v-b9204d6c"),e=e(),S(),e),z={class:"container"},I={class:"box"},$=y(()=>u("i",{class:"sfont system-xingmingyonghumingnicheng"},null,-1)),N=y(()=>u("i",{class:"sfont system-mima"},null,-1));function R(e,s,m,o,n,c){const p=d("el-input"),g=d("el-button"),t=d("el-form");return V(),k("div",z,[u("div",I,[u("h1",null,B(e.systemTitle),1),l(t,{class:"form"},{default:r(()=>[l(p,{size:"large",modelValue:e.form.name,"onUpdate:modelValue":s[0]||(s[0]=a=>e.form.name=a),placeholder:"用户名",type:"text",maxlength:"50"},{prepend:r(()=>[$]),_:1},8,["modelValue"]),l(p,{size:"large",ref:"password",modelValue:e.form.password,"onUpdate:modelValue":s[2]||(s[2]=a=>e.form.password=a),type:e.passwordType,placeholder:"密码",name:"password",maxlength:"50"},{prepend:r(()=>[N]),append:r(()=>[u("i",{class:D(["sfont password-icon",e.passwordType?"system-yanjing-guan":"system-yanjing"]),onClick:s[1]||(s[1]=(...a)=>e.passwordTypeChange&&e.passwordTypeChange(...a))},null,2)]),_:1},8,["modelValue","type"]),l(g,{type:"primary",onClick:e.submit,style:{width:"100%"},size:"medium"},{default:r(()=>[A("登录")]),_:1},8,["onClick"])]),_:1})])])}const q=w(j,[["render",R],["__scopeId","data-v-b9204d6c"]]);export{q as default};
